
<form #form="ngForm" (ngSubmit)="onSubmit(form)" novalidate>

    <img [src]="imageUrl" class="imagem-responsiva" (click)="fileInput.click()">

    <input hidden 
           type="file" 
           #fileInput 
           accept="image/png, image/jpeg" 
           (change)="onFileSelected($event)">

    <mat-form-field>
        <mat-label>Nome</mat-label>
        <input matInput
            type="text" 
            name="nome"
            [(ngModel)]="nome"
            required>
    </mat-form-field>

    <mat-form-field>
    <mat-label>Categoria</mat-label>
        <mat-select 
            [(ngModel)]="grupoSelecionado" 
            name="grupo" 
            required>
            @for (grupo of grupos; track grupo.id) {
                <mat-option [value]="grupo">
                    {{ grupo.nome }}
                </mat-option>
            }
        </mat-select>
    </mat-form-field>

    <mat-form-field>
        <mat-label>Pre√ßo</mat-label>
        <input matInput
            type="number" 
            name="preco"
            [(ngModel)]="preco"
            required
            step="0.01"
            placeholder="0,00" inputmode="decimal">
    </mat-form-field>

    <mat-form-field>
        <mat-label>Quantidade em estoque</mat-label>
        <input matInput
            type="number" 
            name="quantidadeEmEstoque"
            [(ngModel)]="quantidadeEmEstoque"
            required
            placeholder="0" inputmode="numeric">
    </mat-form-field>

    <button matButton="filled" type="submit" [disabled]="!form.valid || !selectedFile">
        Enviar
    </button>

</form>

